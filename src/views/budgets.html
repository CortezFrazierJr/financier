<staging-warning></staging-warning>
<!-- <service-worker-status></service-worker-status> -->

<div class="budgets">
  <sync-status></sync-status>

  <div class="budgets__title">Your budgets</div>
  
  <ul class="budgets__budgets">
    <li ng-repeat="budget in budgetsCtrl.budgets | orderBy: '-opened'"
        class="budgets__budget">
      <a ui-sref="user.app.manager.view.budget({budgetId: budget.id})">
        <div class="budget__budget-name">{{budget.name}}</div>
        <div class="budget__budget-opened"
             ng-if="budget.opened"
             title="{{budget.opened | date: 'medium'}}"><sub>Last opened</sub><br>{{budget.opened | timeAgo}}</div>

        <div class="budget__budget-close" ng-click="budgetsCtrl.remove(budget, $event)" tabindex="0">âœ•</div>
      </a>
    </li>

    <li class="budgets__budget">
      <a ui-sref="user.budget.create">
        <div>
          <div class="budget__budget-new-icon">+</div>
        </div>
      </a>
    </li>
  </ul>

  <div class="budgets__title">Your subscription</div>
  
  <p>You're currently using the free version. Your budgets are stored in the browser, and could be deleted if you clear the browser cache!</p>

  <p><a ui-sref="user.signup">Consider upgrading to the premium plan</a>.</p>

</div>
