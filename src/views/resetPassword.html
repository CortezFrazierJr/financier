<div class="reset-password" disable-ng-animate>
  <div>
    <form name="resetPasswordForm"
          ng-if="!resetPasswordCtrl.loading && !resetPasswordCtrl.error"
          ng-submit="resetPasswordCtrl.submit()">
      <div class="reset-password__text">Reset your password</div>

      <label class="reset-password__label">
        New password<br>
        <input type="password"
               name="password"
               ng-model="resetPasswordCtrl.password"
               class="reset-password__input"
               required
               ng-minlength="6">

        <div ng-messages="resetPasswordForm.password.$error"
             ng-if="resetPasswordForm.password.$touched">
          <div ng-message="required" class="message">This is required!</div>
          <div ng-message="minlength" class="message">Password must be at least 6 characters long</div>
        </div>
      </label>

      <br>

      <button class="reset-password__button"
              ng-disabled="resetPasswordForm.$invalid">Submit</button>
    </form>

    <div class="reset-password__text reset-password__text--loading" ng-if="resetPasswordCtrl.loading">Resetting password...</div>

    <div class="reset-password__text" ng-if="resetPasswordCtrl.error">There was a problem resetting your password</div>
    <div class="reset-password__subtext" ng-if="resetPasswordCtrl.error">Are you offline?<br>Has it been more than 15 minutes since requesting the password reset link?</div>
    <a ui-sref="user.budget" ng-if="resetPasswordCtrl.error" class="reset-password__button">Go to my budgets</a>
  </div>
</div>
